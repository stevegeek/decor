// cally@0.8.0 downloaded from https://ga.jspm.io/npm:cally@0.8.0/dist/cally.js

class se{
/**
   * @type {T}
   */
#e;#t=new Set;
/**
   * @param {T} current
   */
constructor(e){this.#e=e}get current(){return this.#e}
/**
   * @param {T} value
   */set current(e){this.#e!=e&&(this.#e=e,this.#t.forEach((t=>t(e)))
/**
   * @type {import("hooks").Ref["on"]}
   */)}on(e){return this.#t.add(e),()=>this.#t.delete(e)}}const At=e=>new se(e),e=Symbol.for("atomico.hooks");globalThis[e]=globalThis[e]||{};let t=globalThis[e];const u=Symbol.for("Atomico.suspense"),h=Symbol.for("Atomico.effect"),b=Symbol.for("Atomico.layoutEffect"),g=Symbol.for("Atomico.insertionEffect"),M=(e,u,h)=>{const{i:b,hooks:g}=t.c,k=g[b]=g[b]||{};return k.value=e(k.value),k.effect=u,k.tag=h,t.c.i++,g[b].value},ae=e=>M(((t=At(e))=>t)),_=()=>M(((e=At(t.c.host))=>e)),$t=()=>t.c.update,ce=(e,k,S=0)=>{let D={},x=!1;const o=()=>x,a=(e,t)=>{for(const u in D){const h=D[u];h.effect&&h.tag===e&&(h.value=h.effect(h.value,t))}};return{load:h=>{t.c={host:k,hooks:D,update:e,i:0,id:S};let b;try{x=!1,b=h()}catch(e){if(e!==u)throw e;x=!0}finally{t.c=null}return b},cleanEffects:e=>(a(g,e),()=>(a(b,e),()=>{a(h,e)})),isSuspense:o}},k=Symbol.for;function It(e,t){const u=e.length;if(u!==t.length)return!1;for(let h=0;h<u;h++){let u=e[h],b=t[h];if(u!==b)return!1}return!0}const T=e=>typeof e=="function",R=e=>typeof e=="object",{isArray:S}=Array,st=(e,t)=>(!t||e instanceof HTMLStyleElement)&&"hydrate"in(e?.dataset||{});function Ut(e,t){let u;const s=e=>{let{length:h}=e;for(let b=0;b<h;b++){const h=e[b];if(h&&Array.isArray(h))s(h);else{const e=typeof h;if(h==null||e==="function"||e==="boolean")continue;e==="string"||e==="number"?(u==null&&(u=""),u+=h):(u!=null&&(t(u),u=null),t(h))}}};s(e),u!=null&&t(u)}const Lt=(e,t,u)=>(e.addEventListener(t,u),()=>e.removeEventListener(t,u));class _t{
/**
   *
   * @param {HTMLElement} target
   * @param {string} message
   * @param {string} value
   */
constructor(e,t,u){this.message=t,this.target=e,this.value=u}}class jt extends _t{}class le extends _t{}const D="Custom",x=null,A={true:1,"":1,1:1};function de(e,t,u,h,b){const{type:g,reflect:k,event:S,value:A,attr:$=he(t)}=u?.name!=D&&R(u)&&u!=x?u:{type:u},U=g?.name===D&&g.map,F=A!=null?g!=Function&&T(A)?A:()=>A:null;Object.defineProperty(e,t,{configurable:!0,
/**
     * @this {import("dom").AtomicoThisInternal}
     * @param {any} newValue
     */
set(e){const u=this[t];F&&g!=Boolean&&e==null&&(e=F());const{error:h,value:b}=(U?pe:be)(g,e);if(h&&b!=null)throw new jt(this,`The value defined for prop '${t}' must be of type '${g.name}'`,b);u!=b&&(this._props[t]=b??void 0,this.update(),S&&Yt(this,S),this.updated.then((()=>{k&&(this._ignoreAttr=$,me(this,g,$,this[t]),this._ignoreAttr=null)})))},get(){return this._props[t]}}),F&&(b[t]=F()),h[$]={prop:t,type:g}}const Yt=(e,{type:t,base:u=CustomEvent,...h})=>e.dispatchEvent(new u(t,h)),he=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),me=(e,t,u,h)=>h==null||t==Boolean&&!h?e.removeAttribute(u):e.setAttribute(u,t?.name===D&&t?.serialize?t?.serialize(h):R(h)?JSON.stringify(h):t==Boolean?"":h),ye=(e,t)=>e==Boolean?!!A[t]:e==Number?Number(t):e==String?t:e==Array||e==Object?JSON.parse(t):e.name==D?t:new e(t),pe=({map:e},t)=>{try{return{value:e(t),error:!1}}catch{return{value:t,error:!0}}},be=(e,t)=>e==null||t==null?{value:t,error:!1}:e!=String&&t===""?{value:void 0,error:!1}:e==Object||e==Array||e==Symbol?{value:t,error:{}.toString.call(t)!==`[object ${e.name}]`}:t instanceof e?{value:t,error:e==Number&&Number.isNaN(t.valueOf())}:e==String||e==Number||e==Boolean?{value:t,error:e==Number?typeof t!="number"||Number.isNaN(t):e==String?typeof t!="string":typeof t!="boolean"}:{value:t,error:!0};let $=0;const ve=e=>{const t=(e?.dataset||{})?.hydrate||"";return t||"c"+$++},j=(e,t=HTMLElement)=>{const u={},h={},b="prototype"in t&&t.prototype instanceof Element,g=b?t:"base"in t?t.base:HTMLElement,{props:k,styles:S}=b?e:t;class i extends g{constructor(){super(),this._setup(),this._render=()=>e({...this._props});for(const e in h)this[e]=h[e]}
/**
     * @returns {import("core").Sheets[]}
     */static get styles(){return[super.styles,S]}async _setup(){if(this._props)return;this._props={};let e,t;this.mounted=new Promise((u=>this.mount=()=>{u(),e!=this.parentNode&&(t!=e?this.unmounted.then(this.update):this.update()),e=this.parentNode})),this.unmounted=new Promise((h=>this.unmount=()=>{h(),(e!=this.parentNode||!this.isConnected)&&(u.cleanEffects(!0)()(),t=this.parentNode,e=null)})),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();const u=ce((()=>this.update()),this,ve(this));let h,b=!0;const g=st(this);this.update=()=>(h||(h=!0,this.updated=(this.updated||this.mounted).then((()=>{try{const e=u.load(this._render),t=u.cleanEffects();return e&&e.render(this,this.symbolId,g),h=!1,b&&!u.isSuspense()&&(b=!1,!g&&Ee(this)),t()}finally{h=!1}})).then((
/**
         * @param {import("internal/hooks.js").CleanUseEffects} [cleanUseEffect]
         */
e=>{e&&e()}))),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()
/**
     * @this {import("dom").AtomicoThisInternal}
     * @param {string} attr
     * @param {(string|null)} oldValue
     * @param {(string|null)} value
     */}attributeChangedCallback(e,t,h){if(u[e]){if(e===this._ignoreAttr||t===h)return;const{prop:b,type:g}=u[e];try{this[b]=ye(g,h)}catch{throw new le(this,`The value defined as attr '${e}' cannot be parsed by type '${g.name}'`,h)}}else super.attributeChangedCallback(e,t,h)}static get props(){return{...super.props,...k}}static get observedAttributes(){const e=super.observedAttributes||[];for(const e in k)de(this.prototype,e,k[e],u,h);return Object.keys(u).concat(e)}}return i};function Ee(e){const{styles:t}=e.constructor,{shadowRoot:u}=e;if(u&&t.length){const e=[];Ut(t,(t=>{t&&(t instanceof Element?u.appendChild(t.cloneNode(!0)):e.push(t))})),e.length&&(u.adoptedStyleSheets=e)}}const Bt=e=>(t,u)=>{M((
/**
     * Clean the effect hook
     * @type {import("internal/hooks.js").CollectorEffect}
     */
([e,t]=[])=>((t||!t)&&(t&&It(t,u)?e=e||!0:(T(e)&&e(),e=null)),[e,u])
/**
     * @returns {any}
     */),(([e,u],h)=>h?(T(e)&&e(),[]):[e||t(),u]),e)},U=Bt(h),F=Bt(g);class qt extends Array{
/**
   *
   * @param {any} initialState
   * @param {(nextState: any, state:any[], mount: boolean )=>void} mapState
   */
constructor(e,t){let u=!0;const r=e=>{try{t(e,this,u)}finally{u=!1}};super(void 0,r,t),r(e)}}const ct=e=>{const t=$t();return M(((u=new qt(e,((e,u,h)=>{e=T(e)?e(u[0]):e,e!==u[0]&&(u[0]=e,h||t())})))=>u))},C=(e,t)=>{const[u]=M((([u,h,b=0]=[])=>((!h||h&&!It(h,t))&&(u=e()),[u,t,b])));return u},it=e=>{const{current:t}=_();if(!(e in t))throw new jt(t,`For useProp("${e}"), the prop does not exist on the host.`,e);return M(((u=new qt(t[e],((u,h)=>{u=T(u)?u(t[e]):u,t[e]=u})))=>(u[0]=t[e],u)))},P=(e,t={})=>{const u=_();return u[e]||(u[e]=(h=t.detail)=>Yt(u.current,{type:e,...t,detail:h})),u[e]},O=k("atomico/options");globalThis[O]=globalThis[O]||{sheet:!!document.adoptedStyleSheets};const q=globalThis[O],B={checked:1,value:1,selected:1},I={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},Y={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},V={},Z=[];class at extends Text{}const J=k("atomico/id"),X=k("atomico/type"),G=k("atomico/ref"),ne=k("atomico/vnode"),Pe=()=>{};function Ne(e,t,u){return Kt(this,e,t,u)}const Ht=(e,t,...u)=>{const h=t||V;let{children:b}=h;if(b=b??(u.length?u:Z),e===Pe)return b;const g=e?e instanceof Node?1:e.prototype instanceof HTMLElement&&2:0;if(g===!1&&e instanceof Function)return e(b!=Z?{children:b,...h}:h);const k=q.render||Ne;return{[X]:ne,type:e,props:h,children:b,key:h.key,shadow:h.shadowDom,static:h.staticNode,raw:g,is:h.is,clone:h.cloneNode,render:k}};function Kt(e,t,u=J,h,b){let g;if(t&&t[u]&&t[u].vnode==e||e[X]!=ne)return t;(e||!t)&&(b=b||e.type=="svg",g=e.type!="host"&&(e.raw==1?(t&&e.clone?t[G]:t)!=e.type:e.raw==2?!(t instanceof e.type):t?t[G]||t.localName!=e.type:!t),g&&e.type!=null&&(e.raw==1&&e.clone?(h=!0,t=e.type.cloneNode(!0),t[G]=e.type):t=e.raw==1?e.type:e.raw==2?new e.type:b?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,e.is?{is:e.is}:void 0)));const k=t[u]?t[u]:V,{vnode:S=V,cycle:D=0}=k;let{fragment:x,handlers:A}=k;const{children:$=Z,props:U=V}=S;if(A=g?{}:A||{},e.static&&!g)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open",...e.shadow}),e.props!=U&&Me(t,U,e.props,A,b),e.children!==$){const g=e.shadow?t.shadowRoot:t;x=Oe(e.children,x,g,u,!D&&h,(!b||e.type!="foreignObject")&&b)}return t[u]={vnode:e,handlers:A,fragment:x,cycle:D+1},t}function ke(e,t){const u=new at(""),h=new at("");let b;if(e[t?"prepend":"append"](u),t){let{lastElementChild:t}=e;for(;t;){const{previousElementSibling:e}=t;if(st(t,!0)&&!st(e,!0)){b=t;break}t=e}}return b?b.before(h):e.append(h),{markStart:u,markEnd:h}}function Oe(e,t,u,h,b,g){e=e==null?null:S(e)?e:[e];const k=t||ke(u,b),{markStart:D,markEnd:x,keyes:A}=k;let $;const U=A&&new Set;let F=D;if(e&&Ut(e,(e=>{if(typeof e=="object"&&!e[X])return;const t=e[X]&&e.key,k=A&&t!=null&&A.get(t);F!=x&&F===k?U.delete(F):F=F==x?x:F.nextSibling;const S=A?k:F;let D=S;if(e[X])D=Kt(e,S,h,b,g);else{const t=e+"";!(D instanceof Text)||D instanceof at?D=new Text(t):D.data!=t&&(D.data=t)}D!=F&&(A&&U.delete(D),!S||A?(u.insertBefore(D,F),A&&F!=x&&U.add(F)):S==x?u.insertBefore(D,x):(u.replaceChild(D,S),F=D)),t!=null&&($=$||new Map,$.set(t,D))})),F=F==x?x:F.nextSibling,t&&F!=x)for(;F!=x;){const e=F;F=F.nextSibling,e.remove()}return U&&U.forEach((e=>e.remove())),k.keyes=$,k}function Me(e,t,u,h,b){for(const g in t)!(g in u)&&St(e,g,t[g],null,b,h);for(const g in u)St(e,g,t[g],u[g],b,h)}function St(e,t,u,h,b,g){if(t=t!="class"||b?t:"className",u=u??null,h=h??null,t in e&&B[t]&&(u=e[t]),!(h===u||Y[t]||t[0]=="_"))if(t[0]=="o"&&t[1]=="n"&&(T(h)||T(u)))Ae(e,t.slice(2),h,g);else if(t=="ref")h&&(T(h)?h(e):h.current=e);else if(t=="style"){const{style:t}=e;u=u||"",h=h||"";const b=R(u),g=R(h);if(b)for(const e in u){if(!g)break;!(e in h)&&wt(t,e,null)}if(g)for(const e in h){const g=h[e];b&&u[e]===g||wt(t,e,g)}else t.cssText=h}else{const g=t[0]=="$"?t.slice(1):t;g===t&&(!b&&!I[t]&&t in e||T(h)||T(u))?e[t]=h??"":h==null?e.removeAttribute(g):e.setAttribute(g,R(h)?JSON.stringify(h):h)}}function Ae(e,t,u,h){if(h.handleEvent||(h.handleEvent=t=>h[t.type].call(e,t)),u){if(!h[t]){const b=u.capture||u.once||u.passive?Object.assign({},u):null;e.addEventListener(t,h,b)}h[t]=u}else h[t]&&(e.removeEventListener(t,h),delete h[t])}function wt(e,t,u){let h="setProperty";u==null&&(h="removeProperty",u=null),~t.indexOf("-")?e[h](t,u):e[t]=u}const oe={};function H(e,...t){const u=(e.raw||e).reduce(((e,u,h)=>e+u+(t[h]||"")),"");return oe[u]=oe[u]||Fe(u)}function Fe(e){if(q.sheet){const t=new CSSStyleSheet;return t.replaceSync(e),t}{const t=document.createElement("style");return t.textContent=e,t}}const re=Ht("host",{style:"display: contents"}),ie=k("atomico/context"),$e=(e,t)=>{const u=_();F((()=>Lt(u.current,"ConnectContext",(
/**
       * @param {CustomEvent<import("context").DetailConnectContext>} event
       */
u=>{e===u.detail.id&&(u.stopPropagation(),u.detail.connect(t))}))),[e])},Ie=e=>{const t=P("ConnectContext",{bubbles:!0,composed:!0}),n=()=>{let u;return t({id:e,connect(e){u=e}}),u},[u,h]=ct(n);return U((()=>{u||(e[ie]||(e[ie]=customElements.whenDefined((new e).localName)),e[ie].then((()=>h(n))))}),[e]),u},Ue=e=>{const t=Ie(e),u=$t();return U((()=>{if(t)return Lt(t,"UpdatedValue",u)}),[t]),(t||e).value},Le=e=>{const t=j((()=>($e(t,_().current),re)),{props:{value:{type:Object,event:{type:"UpdatedValue"},value:()=>e}}});return t.value=e,t},p=(e,t,u)=>(t==null?t={key:u}:t.key=u,Ht(e,t)),ue=p,fe=H`*,*:before,*:after{box-sizing:border-box}button{padding:0;touch-action:manipulation;cursor:pointer;user-select:none}`,ge=H`.vh{position:absolute;transform:scale(0)}`;function lt(){const e=new Date;return new v(e.getFullYear(),e.getMonth()+1,e.getDate())}function ut(e,t=0){const u=w(e),h=u.getUTCDay(),b=(h<t?7:0)+h-t;return u.setUTCDate(u.getUTCDate()-b),v.from(u)}function Zt(e,t=0){return ut(e,t).add({days:6})}function Xt(e){return v.from(new Date(Date.UTC(e.year,e.month,0)))}function K(e,t,u){return t&&v.compare(e,t)<0?t:u&&v.compare(e,u)>0?u:e}const we={days:1};function je(e,t=0){let u=ut(e.toPlainDate(),t);const h=Zt(Xt(e),t),b=[];for(;v.compare(u,h)<0;){const e=[];for(let t=0;t<7;t++)e.push(u),u=u.add(we);b.push(e)}return b}function w(e){return new Date(Date.UTC(e.year,e.month-1,e.day??1))}const Se=/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/,Q=(e,t)=>e.toString().padStart(t,"0");class v{constructor(e,t,u){this.year=e,this.month=t,this.day=u}add(e){const t=w(this);if("days"in e)return t.setUTCDate(this.day+e.days),v.from(t);let{year:u,month:h}=this;"months"in e?(h=this.month+e.months,t.setUTCMonth(h-1)):(u=this.year+e.years,t.setUTCFullYear(u));const b=v.from(w({year:u,month:h,day:1}));return K(v.from(t),b,Xt(b))}toString(){return`${Q(this.year,4)}-${Q(this.month,2)}-${Q(this.day,2)}`}toPlainYearMonth(){return new W(this.year,this.month)}equals(e){return v.compare(this,e)===0}static compare(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:e.month>t.month?1:e.day<t.day?-1:e.day>t.day?1:0}static from(e){if(typeof e=="string"){const t=e.match(Se);if(!t)throw new TypeError(e);const[,u,h,b]=t;return new v(parseInt(u,10),parseInt(h,10),parseInt(b,10))}return new v(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate())}}class W{constructor(e,t){this.year=e,this.month=t}add(e){const t=w(this),u=(e.months??0)+(e.years??0)*12;return t.setUTCMonth(t.getUTCMonth()+u),new W(t.getUTCFullYear(),t.getUTCMonth()+1)}equals(e){return this.year===e.year&&this.month===e.month}toPlainDate(){return new v(this.year,this.month,1)}}function z(e,t){if(t)try{return e.from(t)}catch{}}function N(e){const[t,u]=it(e);return[C((()=>z(v,t)),[t]),e=>u(e?.toString())]}function Be(e){const[t="",u]=it(e);return[C((()=>{const[e,u]=t.split("/"),h=z(v,e),b=z(v,u);return h&&b?[h,b]:[]}),[t]),e=>u(`${e[0]}/${e[1]}`)]}function qe(e){const[t="",u]=it(e);return[C((()=>{const e=[];for(const u of t.trim().split(/\s+/)){const t=z(v,u);t&&e.push(t)}return e}),[t]),e=>u(e.join(" "))]}function L(e,t){return C((()=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e})),[t,e])}function Ct(e,t,u){const h=L(e,u);return C((()=>{const e=[],u=new Date;for(var b=0;b<7;b++){const b=(u.getUTCDay()-t+7)%7;e[b]=h.format(u),u.setUTCDate(u.getUTCDate()+1)}return e}),[t,h])}const Pt=(e,t,u)=>K(e,t,u)===e,Nt=e=>e.target.matches(":dir(ltr)"),De={month:"long",day:"numeric"},xe={month:"long"},Ce={weekday:"long"},Te={bubbles:!0};function Ke({props:e,context:t}){const{offset:u}=e,{firstDayOfWeek:h,isDateDisallowed:b,min:g,max:k,today:S,page:D,locale:x,focusedDate:A,formatWeekday:$}=t,U=S??lt(),F=Ct(Ce,h,x),O=C((()=>({weekday:$})),[$]),q=Ct(O,h,x),B=L(De,x),I=L(xe,x),Y=C((()=>D.start.add({months:u})),[D,u]),V=C((()=>je(Y,h)),[Y,h]),Z=P("focusday",Te),J=P("selectday",Te),X=P("hoverday",Te);function pt(e){Z(K(e,g,k))}function te(e){let t;switch(e.key){case"ArrowRight":t=A.add({days:Nt(e)?1:-1});break;case"ArrowLeft":t=A.add({days:Nt(e)?-1:1});break;case"ArrowDown":t=A.add({days:7});break;case"ArrowUp":t=A.add({days:-7});break;case"PageUp":t=A.add(e.shiftKey?{years:-1}:{months:-1});break;case"PageDown":t=A.add(e.shiftKey?{years:1}:{months:1});break;case"Home":t=ut(A,h);break;case"End":t=Zt(A,h);break;default:return}pt(t),e.preventDefault()}function ee(e){const u=Y.equals(e);if(!t.showOutsideDays&&!u)return;const h=e.equals(A),S=e.equals(U),D=w(e),x=b?.(D),$=!Pt(e,g,k);let F,O="";if(t.type==="range"){const[u,h]=t.value,b=u?.equals(e),g=h?.equals(e);F=u&&h&&Pt(e,u,h),O=`${b?"range-start":""} ${g?"range-end":""} ${!F||b||g?"":"range-inner"}`}else F=t.type==="multi"?t.value.some((t=>t.equals(e))):t.value?.equals(e);return{part:`button day day-${D.getDay()} ${u?F?"selected":"":"outside"} ${x?"disallowed":""} ${S?"today":""} ${t.getDayParts?.(D)??""} ${O}`,tabindex:u&&h?0:-1,disabled:$,"aria-disabled":x?"true":void 0,"aria-pressed":u&&F,"aria-current":S?"date":void 0,"aria-label":B.format(D),onkeydown:te,onclick(){x||J(e),pt(e)},onmouseover(){!x&&!$&&X(e)}}}return{weeks:V,yearMonth:Y,daysLong:F,daysVisible:q,formatter:I,getDayProps:ee}}const ze=lt(),_e=Le({type:"date",firstDayOfWeek:1,focusedDate:ze,page:{start:ze.toPlainYearMonth(),end:ze.toPlainYearMonth()}});customElements.define("calendar-ctx",_e);const We=(e,t)=>(t+e)%7,He=j((e=>{const t=Ue(_e),u=ae(),h=Ke({props:e,context:t});function r(){u.current.querySelector("button[tabindex='0']")?.focus()}return ue("host",{shadowDom:!0,focus:r,children:[p("div",{id:"h",part:"heading",children:h.formatter.format(w(h.yearMonth))}),ue("table",{ref:u,"aria-labelledby":"h",part:"table",children:[p("thead",{children:p("tr",{part:"tr head",children:h.daysLong.map(((e,u)=>ue("th",{part:`th day day-${We(t.firstDayOfWeek,u)}`,scope:"col",children:[p("span",{class:"vh",children:e}),p("span",{"aria-hidden":"true",children:h.daysVisible[u]})]})))})}),p("tbody",{children:h.weeks.map(((e,t)=>p("tr",{part:"tr week",children:e.map(((e,t)=>{const u=h.getDayProps(e);return p("td",{part:"td",children:u&&p("button",{...u,children:e.day})},t)}))},t)))})]})]})}),{props:{offset:{type:Number,value:0}},styles:[fe,ge,H`:host{--color-accent: black;--color-text-on-accent: white;display:flex;flex-direction:column;gap:.25rem;text-align:center;inline-size:fit-content}table{border-collapse:collapse;font-size:.875rem}th{font-weight:700;block-size:2.25rem}td{padding-inline:0}button{color:inherit;font-size:inherit;background:transparent;border:0;font-variant-numeric:tabular-nums;block-size:2.25rem;inline-size:2.25rem}button:hover:where(:not(:disabled,[aria-disabled])){background:#0000000d}button:is([aria-pressed=true],:focus-visible){background:var(--color-accent);color:var(--color-text-on-accent)}button:focus-visible{outline:1px solid var(--color-text-on-accent);outline-offset:-2px}button:disabled,:host::part(outside),:host::part(disallowed){cursor:default;opacity:.5}`]});customElements.define("calendar-month",He);function kt(e){return p("button",{part:`button ${e.name} ${e.onclick?"":"disabled"}`,onclick:e.onclick,"aria-disabled":e.onclick?null:"true",children:p("slot",{name:e.name,children:e.children})})}function dt(e){const t=w(e.page.start),u=w(e.page.end);return ue("div",{role:"group","aria-labelledby":"h",part:"container",children:[p("div",{id:"h",class:"vh","aria-live":"polite","aria-atomic":"true",children:e.formatVerbose.formatRange(t,u)}),ue("div",{part:"header",children:[p(kt,{name:"previous",onclick:e.previous,children:"Previous"}),p("slot",{part:"heading",name:"heading",children:p("div",{"aria-hidden":"true",children:e.format.formatRange(t,u)})}),p(kt,{name:"next",onclick:e.next,children:"Next"})]}),p(_e,{value:e,onselectday:e.onSelect,onfocusday:e.onFocus,onhoverday:e.onHover,children:p("slot",{})})]})}const Ye={value:{type:String,value:""},min:{type:String,value:""},max:{type:String,value:""},today:{type:String,value:""},isDateDisallowed:{type:Function,value:e=>!1},formatWeekday:{type:String,value:()=>"narrow"},getDayParts:{type:Function,value:e=>""},firstDayOfWeek:{type:Number,value:()=>1},showOutsideDays:{type:Boolean,value:!1},locale:{type:String,value:()=>{}},months:{type:Number,value:1},focusedDate:{type:String,value:()=>{}},pageBy:{type:String,value:()=>"months"}},Re=[fe,ge,H`:host{display:block;inline-size:fit-content}[role=group]{display:flex;flex-direction:column;gap:1em}:host::part(header){display:flex;align-items:center;justify-content:space-between}:host::part(heading){font-weight:700;font-size:1.25em}button{display:flex;align-items:center;justify-content:center}button[aria-disabled]{cursor:default;opacity:.5}`],Ve={year:"numeric"},Ze={year:"numeric",month:"long"};function et(e,t){return 12*(t.year-e.year)+t.month-e.month}const Ot=(e,t)=>(e=t===12?new W(e.year,1):e,{start:e,end:e.add({months:t-1})});function Ge({pageBy:e,focusedDate:t,months:u,max:h,min:b,goto:g}){const k=e==="single"?1:u,[S,D]=ct((()=>Ot(t.toPlainYearMonth(),u))),l=e=>D(Ot(S.start.add({months:e}),u)),c=e=>{const t=et(S.start,e.toPlainYearMonth());return t>=0&&t<u};return U((()=>{if(c(t))return;const e=et(t.toPlainYearMonth(),S.start);g(t.add({months:e}))}),[S.start]),U((()=>{if(c(t))return;const e=et(S.start,t.toPlainYearMonth());l(e===-1?-k:e===u?k:Math.floor(e/u)*u)}),[t,k,u]),{page:S,previous:b&&c(b)?void 0:()=>l(-k),next:h&&c(h)?void 0:()=>l(k)}}function yt({months:e,pageBy:t,locale:u,focusedDate:h,setFocusedDate:b}){const[g]=N("min"),[k]=N("max"),[S]=N("today"),D=P("focusday"),x=P("change"),A=C((()=>K(h??S??lt(),g,k)),[h,S,g,k]);function d(e){b(e),D(w(e))}const{next:$,previous:U,page:F}=Ge({pageBy:t,focusedDate:A,months:e,min:g,max:k,goto:d}),O=_();function y(e){const t=e?.target??"day";t==="day"?O.current.querySelectorAll("calendar-month").forEach((t=>t.focus(e))):O.current.shadowRoot.querySelector(`[part~='${t}']`).focus(e)}return{format:L(Ve,u),formatVerbose:L(Ze,u),page:F,focusedDate:A,dispatch:x,onFocus(e){e.stopPropagation(),d(e.detail),setTimeout(y)},min:g,max:k,today:S,next:$,previous:U,focus:y}}const Je=j((e=>{const[t,u]=N("value"),[h=t,b]=N("focusedDate"),g=yt({...e,focusedDate:h,setFocusedDate:b});function a(e){u(e.detail),g.dispatch()}return p("host",{shadowDom:!0,focus:g.focus,children:p(dt,{...e,...g,type:"date",value:t,onSelect:a})})}),{props:Ye,styles:Re});customElements.define("calendar-date",Je);const Mt=(e,t)=>v.compare(e,t)<0?[e,t]:[t,e],Xe=j((e=>{const[t,u]=Be("value"),[h=t[0],b]=N("focusedDate"),g=yt({...e,focusedDate:h,setFocusedDate:b}),k=P("rangestart"),S=P("rangeend"),[D,x]=N("tentative"),[A,$]=ct();U((()=>$(void 0)),[D]);function f(e){g.onFocus(e),m(e)}function m(e){e.stopPropagation(),D&&$(e.detail)}function E(e){const t=e.detail;e.stopPropagation(),D?(u(Mt(D,t)),x(void 0),S(w(t)),g.dispatch()):(x(t),k(w(t)))}const F=D?Mt(D,A??D):t;return p("host",{shadowDom:!0,focus:g.focus,children:p(dt,{...e,...g,type:"range",value:F,onFocus:f,onHover:m,onSelect:E})})}),{props:{...Ye,tentative:{type:String,value:""}},styles:Re});customElements.define("calendar-range",Xe);const Qe=j((e=>{const[t,u]=qe("value"),[h=t[0],b]=N("focusedDate"),g=yt({...e,focusedDate:h,setFocusedDate:b});function a(e){const h=[...t],b=t.findIndex((t=>t.equals(e.detail)));b<0?h.push(e.detail):h.splice(b,1),u(h),g.dispatch()}return p("host",{shadowDom:!0,focus:g.focus,children:p(dt,{...e,...g,type:"multi",value:t,onSelect:a})})}),{props:Ye,styles:Re});customElements.define("calendar-multi",Qe);export{Je as CalendarDate,He as CalendarMonth,Qe as CalendarMulti,Xe as CalendarRange};

